<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=auto, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css files/signup.css">
    <title>Document</title>
</head>
<body>
    <nav>
        <ul class="topnav" id="dropmenu">
            <li><a href="/">Home</a></li>
            <li><a href="/categories">Courses</a></li>
            <li><a href="/about">About us</a></li> 
            <li class="dropdown"><a href="javascript:void(0);"
               | onclick="dropnav()">&#9776;</a></li>
            <li class="topnav-right"><a 
               | href="#signup">Sign up</a></li>
            <li class="topnav-right"><a 
               | href="/signin">Sign in</a></li>
            <li class="bar"><input type="text" placeholder="Search for courses"></li>
            
        </ul>
    </nav>


    |<!--######################## SECTION 1 Headings ################-->
    <div class="box">
        <div class="link"><h2>Welcome Faculty</h2></div>
        <form id="signup-Form">
                <h2 class="signh1">Please Enter Your Details:-</h2>
                <label for="username" class="lbl">Username  </label>
                <input class="usrinput" type="email" name="usrnm" id="usrnm" placeholder="Enter your username">
                <label for="name" class="lbl">Name </label>
                <input class="usrinput" type="text" name="nm" id="nm" placeholder="Enter your name">
                <label for="email" class="lbl">Email  </label>
                <input class="usrinput" type="text" name="emailid" placeholder="Enter your email">
                <label for="phoneno" class="lbl">Phone no.  </label>
                <input class="usrinput" type="text" name="pn" placeholder="Enter your Phone no.">
                <label for="class" class="lbl">Class  </label>
                <input class="usrinput" type="text" name="cls" placeholder="Enter your class">
                <label for="username" class="lbl">Password  </label>
                <input class="usrinput" type="password" name="pswrd" id="pswrd" placeholder="Enter your Password">
                <button class="signinbutton">Sign up</button>
        </form>
        <div class="link"><a href="/signup">Student Signin</a></div>
    </div>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
    <script type = module>
        |      const firebaseConfig = {
        |           apiKey: "AIzaSyBVMtSPtgfSxrNFoZBayJhFWiTszYnBvkA",
        |            authDomain: "admin-15455.firebaseapp.com",
        |            projectId: "admin-15455",
        |            storageBucket: "admin-15455.appspot.com",
        |            messagingSenderId: "706392511513",
        |            appId: "1:706392511513:web:99b3a5a083dafd57e68688",
        |            measurementId: "G-RQTFKHJFSD"
        |        };

        |     // Initialize Firebase
        |    firebase.initializeApp(firebaseConfig);

  
    </script>

    <script type = module>
        |const signupForm = document.querySelector('#signup-Form');
        |signupForm.addEventListener('submit',(e)=>{
        |    e.preventDefault();
        |
        |    const email = signupForm['usrnm'].value;
        |    const name = signupForm['nm'].value;
        |    const emailid = signupForm['emailid'].value;
        |    const pn = signupForm['pn'].value;
        |    const cls = signupForm['cls'].value;
        |    const password = signupForm['pswrd'].value;
        |   const auth = firebase.auth();
        |   auth.createUserWithEmailAndPassword(email, password)
        |  .then((userCredential) => {
        |    // Signed in 
        |    var url = "/signupadmin";
        |   const Http = new XMLHttpRequest();
        |   Http.open('post', url);
        |   Http.setRequestHeader("Content-Type", "text/plain");
        |   var obj = {
        |               objusrnm : email,
        |               objname : name,
        |               objemailid : emailid, 
        |               objpn: pn,
        |               objcls : cls    
        |              }
        |   var objstr = JSON.stringify(obj);
        |   console.log(objstr);
        |   Http.send(objstr);
        |   Http.onload = function() {
        |    alert(Http.response); 
        |   };
        |     console.log("success");
        |   window.location.href= "/admin";
        |    // ...
        |  })
        |  .catch((error) => {
        |    const errorCode = error.code;
        |    const errorMessage = error.message;
        |    // ..
        |  });
        |});
    </script>
</body>
</html>