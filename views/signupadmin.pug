<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=auto, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css files/signup.css">
    <title>Document</title>
</head>
<body>
    <nav>
        <ul class="topnav" id="dropmenu">
            <li><a href="/">Home</a></li>
            <li><a href="/categories">Courses</a></li>
            <li><a href="/about">About us</a></li> 
            <li class="dropdown"><a href="javascript:void(0);"
               | onclick="dropnav()">&#9776;</a></li>
            <li class="topnav-right"><a 
               | href="#signup">Sign up</a></li>
            <li class="topnav-right"><a 
               | href="/signin">Sign in</a></li>
            <li class="bar"><input type="text" placeholder="Search for courses"></li>
            
        </ul>
    </nav>


    |<!--######################## SECTION 1 Headings ################-->
    <div class="box">
        <div class="link"><h2>Welcome</h2></div>
         <h2 class="signh1">Please Enter Your Details:-</h2>
        <form id="signup-Form">
                <div class="set">
                    <label for="username" class="lbl">Username  </label>
                    <input class="usrinput" type="email" name="usrnm" id="usrnm" placeholder="Enter username">
                </div>
                <div class="set">
                    <label for="name" class="lbl">Name </label>
                    <input class="usrinput" type="text" name="nm" id="nm" placeholder="Enter name">
                </div>
                <div class="set">
                    <label for="email" class="lbl">Email  </label>
                    <input class="usrinput" type="text" name="emailid" placeholder="Enter email">
                </div>
                <div class="set">
                    <label for="phoneno" class="lbl">Phone no.  </label>
                    <input class="usrinput" type="text" name="pn" placeholder="Enter Phone no.">
                </div>
                <div class="set">
                    <label for="class" class="lbl">Class  </label>
                    <input class="usrinput" type="text" name="cls" placeholder="Enter class">
                </div>
                <div class="setbtn">
                    <button class="signinbutton">Sign up</button>
                </div>
        </form>

    </div>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
    <script  src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
    <script type = module>
        |      const firebaseConfig = {
        |           apiKey: "AIzaSyC2HnKPOcJuoQRHLy_qPlQHsEdPOmTcDIQ",
        |          authDomain: "m2learning.firebaseapp.com",
        |          databaseURL: "https://m2learning-default-rtdb.firebaseio.com",
        |          projectId: "m2learning",
        |          storageBucket: "m2learning.appspot.com",
        |          messagingSenderId: "169205910629",
        |          appId: "1:169205910629:web:dcff87a56454550e244a8c",
        |          measurementId: "G-JTTX230017"
        |        };

        |     // Initialize Firebase
        |    firebase.initializeApp(firebaseConfig);

  
    </script>

    <script type = module>
        |const signupForm = document.querySelector('#signup-Form');
        |signupForm.addEventListener('submit',(e)=>{
        |    e.preventDefault();
        |
        |    const email = signupForm['usrnm'].value;
        |    const name = signupForm['nm'].value;
        |    const emailid = signupForm['emailid'].value;
        |    const pn = signupForm['pn'].value;
        |    const cls = signupForm['cls'].value;
        |   const auth = firebase.auth();
        //- |   auth.createUserWithEmailAndPassword(email, password)
        //- |  .then((userCredential) => {
        |    // Signed in 
        |    var url = "/signupadmin";
        |   const Http = new XMLHttpRequest();
        |   Http.open('post', url);
        |   Http.setRequestHeader("Content-Type", "text/plain");
        |   var obj = {
        |               objusrnm : email,
        |               objname : name,
        |               objemailid : emailid, 
        |               objpn: pn,
        |               objcls : cls    
        |              }
        |   var objstr = JSON.stringify(obj);
        |   console.log(objstr);
        |   Http.send(objstr);
        |   Http.onload = function() {
        |    alert(Http.response); 
        |   };
        |     console.log("success");
        |   window.location.href= "/supadmin";
        |    // ...
        //- |  })
        //- |  .catch((error) => {
        |    const errorCode = error.code;
        |    const errorMessage = error.message;
        |    // ..
        //- |  });
        |});
    </script>
    <script src="../static/js files/home.js"></script>
</body>
</html>